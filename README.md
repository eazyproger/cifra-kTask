# cifra-kTask
Тестовое задание для компании Цифровой Центр Развития

ТЗ

Предлагаем Вам реализовать REST backend с использование DRF (Django Rest Framework) новостного приложения:

Сохранение в БД Новостей и их Типов.

    Новость должна иметь структуру:
     - Имя;
     - Краткое описание;
     - Полное описание;
     - Тип новости.

    Тип новостей должен иметь структуру:
     - Имя;
     - Цвет.

Нужен функционал:
 - CRUD (Create, Read, Update, Delete) типов новостей;
 - CRUD новостей;
 - Возможность получить список всех типов новостей;
 - Возможность получить список всех новостей (имя, краткое описание, имя типа, цвет типа);
 - Возможность получить список новостей определенного типа.

- Плюсом будет если вы проект завернете в docker.
В качестве базы можно использовать sqlite.


Запуск

Для запуска скрипта необходимы установленные python, pip, git
    
    Переходим в директорию, в которой будет располагаться проект
    
    Клонируем проект с git-репозитория:
      git clone https://github.com/eazyproger/cifra-kTask.git
      
    Переходим в директорию проекта:
      cd cifra-kTask/
      
    Создаем виртуальное окружение:
      pip install virtualenv
      virtualenv venv
      source venv/bin/activate

    Устанавливаем зависимости:
      pip install -r ./requirements.txt

    Переходим в django-проект, создаем и применяем миграции:
      cd news/
      python manage.py makemigrations
      python manage.py migrate
      python manage.py runserver

    Сайт с api будет доступен по указанному ip
    
    Чтобы запустить проект через docker-compose (необходимы docker, docker-compose):
      docker-compose up --build
      
    ПРИМЕЧАНИЕ: при запуске приложения через docker-compose сохранения будет создана новая или
    подключенна уже существующая бд из проекта, однако изменения в ней не сохранятся.
    Чтобы изменения сохранялись при работе из контейнера необходимо раскомментировать 2 последние
    строки в docker-compose.yaml. Но для этого необходимо сначала локально создать и применить миграции.
    
  Эндпоинты:
    * префикс `/api`

    ## Новости

    * `/news/` - GET, возвращает список `news` (?type=id - добаляет фильтр новостей по их id типа)
    * `/news/` - POST с `name`, `short_description`, `full_description`, `news_type` новости, создает новую новость
    * `/news/<id>/` - GET, возвращает новость по `id`
    * `/news/<id>/` - PUT с `name`, `short_description`, `full_description`, `news_type` новости, изменяет новость по `id`
    * `/news/<id>/` - DELETE, удаляет новость по `id`

    ## Тип новостей

    * `/news-types/` - GET, возвращает список `news_types`
    * `/news-types/` - POST с `name`, `color` типа новости, создает новый тип новости
    * `/news-types/<id>/` - GET, возвращает тип новости по `id`
    * `/news-types/<id>/` - PUT, с `name`, `color` типа новости, изменяет тип новости по `id`
    * `/news-types/<id>/` - DELETE, удаляет тип новости по `id`
